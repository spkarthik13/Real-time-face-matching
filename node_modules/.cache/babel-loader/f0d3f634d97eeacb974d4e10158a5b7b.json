{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\spkar\\\\IdeaProjects\\\\Real Time Image Matching\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\spkar\\\\IdeaProjects\\\\Real Time Image Matching\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\spkar\\\\IdeaProjects\\\\Real Time Image Matching\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\spkar\\\\IdeaProjects\\\\Real Time Image Matching\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\spkar\\\\IdeaProjects\\\\Real Time Image Matching\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\spkar\\\\IdeaProjects\\\\Real Time Image Matching\\\\src\\\\index.js\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport * as faceapi from \"face-api.js\";\nimport \"./styles.css\";\nvar MODEL_WEIGHTS = \"weights\";\n\nvar App =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(App, _React$Component);\n\n  function App() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, App);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(App)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      label: \"\"\n    };\n    _this.videoRef = React.createRef();\n    _this.canvasRef = React.createRef();\n    _this.face1Ref = React.createRef();\n    _this.face2Ref = React.createRef();\n\n    _this.detectFrame = function (video) {\n      faceapi.detectAllFaces(video).then(function (predictions) {\n        var face1 = predictions[0];\n        var face2 = predictions[1];\n        var desc1 = null;\n        var desc2 = null;\n\n        if (face1) {\n          var destCtx = _this.face1Ref.current.getContext(\"2d\");\n\n          destCtx.drawImage(video, face1.box._x, face1.box._y, face1.box._width, face1.box._height, 0, 0, 100, 100);\n          desc1 = faceapi.computeFaceDescriptor(_this.face1Ref.current);\n        } else {\n          var _destCtx = _this.face1Ref.current.getContext(\"2d\");\n\n          _destCtx.clearRect(0, 0, _destCtx.canvas.width, _destCtx.canvas.height);\n        }\n\n        if (face2) {\n          var _destCtx2 = _this.face2Ref.current.getContext(\"2d\");\n\n          _destCtx2.drawImage(video, face2.box._x, face2.box._y, face2.box._width, face2.box._height, 0, 0, 100, 100);\n\n          desc2 = faceapi.computeFaceDescriptor(_this.face2Ref.current);\n        } else {\n          var _destCtx3 = _this.face2Ref.current.getContext(\"2d\");\n\n          _destCtx3.clearRect(0, 0, _destCtx3.canvas.width, _destCtx3.canvas.height);\n        }\n\n        if (desc1 && desc2) {\n          Promise.all([desc1, desc2]).then(function (res) {\n            var distance = faceapi.round(faceapi.euclideanDistance(res[0], res[1]));\n            distValue = distance > 0.62;\n\n            _this.setState({\n              label: distValue ? \"NO MATCH :(\" : \"FACES MATCH!\",\n              color: distValue ? \"#cc0000\" : \"#66ff66\"\n            });\n\n            _this.renderPredictions(predictions);\n\n            requestAnimationFrame(function () {\n              _this.detectFrame(video);\n            });\n          });\n        } else {\n          _this.setState({\n            label: \"\"\n          });\n\n          _this.renderPredictions(predictions);\n\n          requestAnimationFrame(function () {\n            _this.detectFrame(video);\n          });\n        }\n      });\n    };\n\n    _this.renderPredictions = function (predictions) {\n      var ctx = _this.canvasRef.current.getContext(\"2d\");\n\n      ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n      predictions.forEach(function (prediction) {\n        var x = prediction.box._x;\n        var y = prediction.box._y;\n        var width = prediction.box._width;\n        var height = prediction.box._height; // Draw the bounding box.\n\n        ctx.strokeStyle = \"#00FFFF\";\n        ctx.lineWidth = 4;\n        ctx.strokeRect(x, y, width, height);\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(App, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n        var webCamPromise = navigator.mediaDevices.getUserMedia({\n          audio: false,\n          video: {\n            facingMode: \"user\"\n          }\n        }).then(function (stream) {\n          window.stream = stream;\n          _this2.videoRef.current.srcObject = stream;\n          return new Promise(function (resolve, reject) {\n            _this2.videoRef.current.onloadedmetadata = function () {\n              resolve();\n            };\n          });\n        });\n        var modelPromise = faceapi.loadSsdMobilenetv1Model(MODEL_WEIGHTS);\n        var modelPromise2 = faceapi.loadFaceRecognitionModel(MODEL_WEIGHTS);\n        Promise.all([modelPromise, modelPromise2, webCamPromise]).then(function (values) {\n          _this2.detectFrame(_this2.videoRef.current);\n        }).catch(function (error) {\n          console.error(error);\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 139\n        },\n        __self: this\n      }, React.createElement(\"video\", {\n        className: \"size\",\n        autoPlay: true,\n        playsInline: true,\n        muted: true,\n        ref: this.videoRef,\n        width: \"600\",\n        height: \"500\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 140\n        },\n        __self: this\n      }), React.createElement(\"canvas\", {\n        className: \"size\",\n        ref: this.canvasRef,\n        width: \"600\",\n        height: \"500\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 149\n        },\n        __self: this\n      }), React.createElement(\"canvas\", {\n        className: \"face1\",\n        ref: this.face1Ref,\n        width: \"100\",\n        height: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }), React.createElement(\"canvas\", {\n        className: \"face2\",\n        ref: this.face2Ref,\n        width: \"100\",\n        height: \"100\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 161\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"label\",\n        style: {\n          color: this.state.color\n        },\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 167\n        },\n        __self: this\n      }, this.state.label));\n    }\n  }]);\n\n  return App;\n}(React.Component);\n\nvar rootElement = document.getElementById(\"root\");\nReactDOM.render(React.createElement(App, {\n  __source: {\n    fileName: _jsxFileName,\n    lineNumber: 177\n  },\n  __self: this\n}), rootElement);","map":{"version":3,"sources":["C:\\Users\\spkar\\IdeaProjects\\Real Time Image Matching\\src\\index.js"],"names":["React","ReactDOM","faceapi","MODEL_WEIGHTS","App","state","label","videoRef","createRef","canvasRef","face1Ref","face2Ref","detectFrame","video","detectAllFaces","then","predictions","face1","face2","desc1","desc2","destCtx","current","getContext","drawImage","box","_x","_y","_width","_height","computeFaceDescriptor","clearRect","canvas","width","height","Promise","all","res","distance","round","euclideanDistance","distValue","setState","color","renderPredictions","requestAnimationFrame","ctx","forEach","prediction","x","y","strokeStyle","lineWidth","strokeRect","navigator","mediaDevices","getUserMedia","webCamPromise","audio","facingMode","stream","window","srcObject","resolve","reject","onloadedmetadata","modelPromise","loadSsdMobilenetv1Model","modelPromise2","loadFaceRecognitionModel","values","catch","error","console","Component","rootElement","document","getElementById","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport ReactDOM from \"react-dom\";\n\nimport * as faceapi from \"face-api.js\";\nimport \"./styles.css\";\n\nconst MODEL_WEIGHTS = \"weights\";\n\nclass App extends React.Component {\n  state = {\n    label: \"\"\n  };\n  videoRef = React.createRef();\n  canvasRef = React.createRef();\n  face1Ref = React.createRef();\n  face2Ref = React.createRef();\n\n  componentDidMount() {\n    if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\n      const webCamPromise = navigator.mediaDevices\n        .getUserMedia({\n          audio: false,\n          video: {\n            facingMode: \"user\"\n          }\n        })\n        .then(stream => {\n          window.stream = stream;\n          this.videoRef.current.srcObject = stream;\n          return new Promise((resolve, reject) => {\n            this.videoRef.current.onloadedmetadata = () => {\n              resolve();\n            };\n          });\n        });\n      const modelPromise = faceapi.loadSsdMobilenetv1Model(MODEL_WEIGHTS);\n      const modelPromise2 = faceapi.loadFaceRecognitionModel(MODEL_WEIGHTS);\n      Promise.all([modelPromise, modelPromise2, webCamPromise])\n        .then(values => {\n          this.detectFrame(this.videoRef.current);\n          \n        })\n        .catch(error => {\n          console.error(error);\n        });\n        \n    }\n  }\n\n  detectFrame = video => {\n    \n\n    faceapi.detectAllFaces(video).then(predictions => {\n      const face1 = predictions[0];\n      const face2 = predictions[1];\n      let desc1 = null;\n      let desc2 = null;\n      if (face1) {\n        const destCtx = this.face1Ref.current.getContext(\"2d\");\n        destCtx.drawImage(\n          video,\n          face1.box._x,\n          face1.box._y,\n          face1.box._width,\n          face1.box._height,\n          0,\n          0,\n          100,\n          100\n        );\n        desc1 = faceapi.computeFaceDescriptor(this.face1Ref.current);\n      } else {\n        const destCtx = this.face1Ref.current.getContext(\"2d\");\n        destCtx.clearRect(0, 0, destCtx.canvas.width, destCtx.canvas.height);\n      }\n      if (face2) {\n        const destCtx = this.face2Ref.current.getContext(\"2d\");\n        destCtx.drawImage(\n          video,\n          face2.box._x,\n          face2.box._y,\n          face2.box._width,\n          face2.box._height,\n          0,\n          0,\n          100,\n          100\n        );\n        desc2 = faceapi.computeFaceDescriptor(this.face2Ref.current);\n      } else {\n        const destCtx = this.face2Ref.current.getContext(\"2d\");\n        destCtx.clearRect(0, 0, destCtx.canvas.width, destCtx.canvas.height);\n      }\n      if (desc1 && desc2) {\n        Promise.all([desc1, desc2]).then(res => {\n          const distance = faceapi.round(\n            faceapi.euclideanDistance(res[0], res[1])\n          );\n          distValue = distance > 0.62\n          this.setState({\n            label: distValue ? \"NO MATCH :(\" : \"FACES MATCH!\",\n            color: distValue ? \"#cc0000\" : \"#66ff66\"\n          });\n          this.renderPredictions(predictions);\n          requestAnimationFrame(() => {\n            this.detectFrame(video);\n          });\n        });\n      } else {\n        this.setState({\n          label: \"\"\n        });\n        this.renderPredictions(predictions);\n        requestAnimationFrame(() => {\n          this.detectFrame(video);\n        });\n      }\n    });\n  };\n\n  renderPredictions = predictions => {\n    const ctx = this.canvasRef.current.getContext(\"2d\");\n    ctx.clearRect(0, 0, ctx.canvas.width, ctx.canvas.height);\n\n    predictions.forEach(prediction => {\n      const x = prediction.box._x;\n      const y = prediction.box._y;\n      const width = prediction.box._width;\n      const height = prediction.box._height;\n      // Draw the bounding box.\n      ctx.strokeStyle = \"#00FFFF\";\n      ctx.lineWidth = 4;\n      ctx.strokeRect(x, y, width, height);\n    });\n  };\n\n  render() {\n    return (\n      <div>\n        <video\n          className=\"size\"\n          autoPlay\n          playsInline\n          muted\n          ref={this.videoRef}\n          width=\"600\"\n          height=\"500\"\n        />\n        <canvas\n          className=\"size\"\n          ref={this.canvasRef}\n          width=\"600\"\n          height=\"500\"\n        />\n        <canvas\n          className=\"face1\"\n          ref={this.face1Ref}\n          width=\"100\"\n          height=\"100\"\n        />\n        <canvas\n          className=\"face2\"\n          ref={this.face2Ref}\n          width=\"100\"\n          height=\"100\"\n        />\n        <div className=\"label\" style={{ color: this.state.color }}>\n          {this.state.label}\n        </div>\n      </div>\n    );\n  }\n}\n\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"]},"metadata":{},"sourceType":"module"}